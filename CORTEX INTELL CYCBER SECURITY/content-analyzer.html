<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Content Analyzer - Cortex-Intell</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
    --primary: #6366f1;
    --primary-dark: #4f46e5;
    --primary-light: #8b5cf6;
    --secondary: #06d6a0;
    --error: #ef4444;
    --warning: #f59e0b;
    --success: #10b981;
    --bg-primary: #0a0a0a;
    --bg-secondary: #111111;
    --bg-tertiary: #1a1a1a;
    --text-primary: rgba(255, 255, 255, 0.95);
    --text-secondary: rgba(148, 163, 184, 0.85);
    --text-muted: rgba(100, 116, 139, 0.75);
    --border-light: rgba(255, 255, 255, 0.1);
    --border-medium: rgba(255, 255, 255, 0.2);
    --space-1: 0.25rem;
    --space-2: 0.5rem;
    --space-3: 0.75rem;
    --space-4: 1rem;
    --space-5: 1.25rem;
    --space-6: 1.5rem;
    --space-8: 2rem;
    --space-10: 2.5rem;
    --space-12: 3rem;
    --radius-sm: 0.25rem;
    --radius-md: 0.5rem;
    --radius-lg: 0.75rem;
    --radius-xl: 1rem;
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;
}

[data-theme="light"] {
    --bg-primary: #ffffff;
    --bg-secondary: #f8fafc;
    --bg-tertiary: #f1f5f9;
    --text-primary: rgba(15, 23, 42, 0.95);
    --text-secondary: rgba(71, 85, 105, 0.85);
    --text-muted: rgba(100, 116, 139, 0.75);
    --border-light: rgba(0, 0, 0, 0.1);
    --border-medium: rgba(0, 0, 0, 0.2);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Inter', sans-serif;
    background-color: var(--bg-primary);
    color: var(--text-primary);
    line-height: 1.6;
    transition: background-color 0.3s, color 0.3s;
    min-height: 100vh;
    position: relative;
    overflow-x: hidden;
}

/* Enhanced Animated GIF Background - 70% More Visible */
body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: 
        linear-gradient(135deg, rgba(10, 10, 10, 0.3) 0%, rgba(17, 17, 17, 0.4) 100%),
        url('https://i.makeagif.com/media/10-27-2021/TS06B5.gif') center/cover no-repeat;
    z-index: -1;
    animation: backgroundShift 15s ease-in-out infinite;
    opacity: 0.7; /* 70% visibility */
    filter: brightness(1.1) contrast(1.1);
}

@keyframes backgroundShift {
    0%, 100% {
        transform: scale(1) rotate(0deg);
        opacity: 0.7;
    }
    25% {
        transform: scale(1.02) rotate(0.5deg);
        opacity: 0.75;
    }
    50% {
        transform: scale(1.01) rotate(-0.3deg);
        opacity: 0.8;
    }
    75% {
        transform: scale(1.03) rotate(0.2deg);
        opacity: 0.75;
    }
}

/* Light theme background adjustment */
[data-theme="light"] body::before {
    background: 
        linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(248, 250, 252, 0.4) 100%),
        url('https://i.makeagif.com/media/10-27-2021/TS06B5.gif') center/cover no-repeat;
    opacity: 0.7;
    filter: brightness(1.05) contrast(1.05);
}

.navbar {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    background: rgba(15, 23, 42, 0.9);
    backdrop-filter: blur(25px);
    border-bottom: 1px solid var(--border-light);
    z-index: 1000;
    padding: var(--space-4) 0;
}

.nav-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 var(--space-6);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.logo {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    text-decoration: none;
    color: var(--text-primary);
    font-weight: var(--font-weight-bold);
    font-size: 1.25rem;
}

.logo-icon {
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg, var(--primary), var(--primary-dark));
    border-radius: var(--radius-lg);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3);
}

.nav-actions {
    display: flex;
    gap: var(--space-4);
}

.theme-toggle {
    background: rgba(255, 255, 255, 0.15);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-lg);
    color: var(--text-primary);
    cursor: pointer;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    backdrop-filter: blur(15px);
}

.theme-toggle:hover {
    background: rgba(255, 255, 255, 0.25);
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
}

main {
    padding-top: 100px;
    min-height: 100vh;
}

.container {
    max-width: 1000px;
    margin: 0 auto;
    padding: 0 var(--space-6);
}

.analyzer-container {
    background: rgba(17, 17, 17, 0.82);
    backdrop-filter: blur(25px);
    border-radius: var(--radius-xl);
    border: 1px solid var(--border-light);
    overflow: hidden;
    box-shadow: 
        0 20px 40px rgba(0, 0, 0, 0.3),
        0 0 0 1px rgba(255, 255, 255, 0.05);
    position: relative;
}

.analyzer-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--primary), var(--secondary), var(--primary));
    animation: scanLine 2.5s ease-in-out infinite;
    box-shadow: 0 0 20px rgba(99, 102, 241, 0.5);
}

@keyframes scanLine {
    0%, 100% {
        transform: translateX(-100%);
        opacity: 0;
    }
    50% {
        transform: translateX(100%);
        opacity: 1;
    }
}

.analyzer-content {
    background: rgba(17, 17, 17, 0.92); /* Increased from 0.85 to 0.92 */
}

.analyzer-content {
    padding: var(--space-8);
}

.input-group {
    margin-bottom: var(--space-8);
}

.input-header {
    text-align: center;
    margin-bottom: var(--space-6);
}

.input-header h1 {
    font-size: 2.5rem;
    font-weight: var(--font-weight-bold);
    margin-bottom: var(--space-2);
    background: linear-gradient(135deg, var(--text-primary), var(--primary-light), var(--secondary));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
}

.input-header p {
    color: var(--text-secondary);
    font-size: 1.1rem;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

.ai-tools-status {
    display: flex;
    gap: var(--space-4);
    margin-bottom: var(--space-6);
    flex-wrap: wrap;
    justify-content: center;
}

.tool-status {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-3) var(--space-4);
    background: rgba(255, 255, 255, 0.08);
    border-radius: var(--radius-md);
    font-size: 0.9rem;
    border: 1px solid var(--border-light);
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
}

.tool-status:hover {
    transform: translateY(-2px);
    border-color: var(--primary);
    box-shadow: 0 8px 25px rgba(99, 102, 241, 0.3);
    background: rgba(255, 255, 255, 0.12);
}

.tool-status.active {
    background: rgba(16, 185, 129, 0.15);
    border-color: rgba(16, 185, 129, 0.4);
}

.tool-status i {
    color: var(--success);
}

.input-container {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
    margin-bottom: var(--space-6);
}

textarea {
    width: 100%;
    min-height: 200px;
    padding: var(--space-4);
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-lg);
    color: var(--text-primary);
    font-size: 1rem;
    font-family: inherit;
    resize: vertical;
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
}

textarea:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 
        0 0 0 3px rgba(99, 102, 241, 0.15),
        0 8px 25px rgba(99, 102, 241, 0.2);
    background: rgba(255, 255, 255, 0.12);
}

.btn {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-4) var(--space-6);
    background: var(--primary);
    color: white;
    border: none;
    border-radius: var(--radius-lg);
    font-size: 1rem;
    font-weight: var(--font-weight-medium);
    cursor: pointer;
    transition: all 0.3s ease;
    text-decoration: none;
    position: relative;
    overflow: hidden;
    backdrop-filter: blur(10px);
}

.btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    transition: left 0.6s;
}

.btn:hover::before {
    left: 100%;
}

.btn:hover {
    background: var(--primary-dark);
    transform: translateY(-2px);
    box-shadow: 
        var(--shadow-md),
        0 8px 25px rgba(99, 102, 241, 0.4);
}

.btn:active {
    transform: translateY(0);
}

.btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
}

.btn-primary {
    background: linear-gradient(135deg, var(--primary), var(--primary-dark));
    box-shadow: 0 4px 15px rgba(99, 102, 241, 0.4);
}

.btn-large {
    padding: var(--space-5) var(--space-8);
    font-size: 1.1rem;
}

.api-keys-section {
    margin: var(--space-8) 0;
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-lg);
    overflow: hidden;
    position: relative;
    backdrop-filter: blur(15px);
}

.api-keys-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 5px;
    height: 100%;
    background: linear-gradient(180deg, var(--success), var(--secondary));
    animation: glowPulse 2s ease-in-out infinite;
}

@keyframes glowPulse {
    0%, 100% {
        opacity: 1;
        box-shadow: 0 0 10px var(--success);
    }
    50% {
        opacity: 0.8;
        box-shadow: 0 0 20px var(--success);
    }
}

.api-keys-section details {
    padding: var(--space-4);
}

.api-keys-section summary {
    cursor: pointer;
    font-weight: var(--font-weight-medium);
    padding: var(--space-2);
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.api-keys-grid {
    display: grid;
    gap: var(--space-4);
    margin-top: var(--space-4);
}

.api-key-input {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}

.api-key-input label {
    font-size: 0.9rem;
    color: var(--text-secondary);
    font-weight: var(--font-weight-medium);
}

.api-key-input input {
    padding: var(--space-3);
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-md);
    color: var(--text-primary);
    font-family: monospace;
    font-size: 0.8rem;
    transition: all 0.3s ease;
    backdrop-filter: blur(5px);
}

.api-key-input input:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(99, 102, 255, 0.2);
    background: rgba(255, 255, 255, 0.15);
}

.api-key-status {
    font-size: 0.8rem;
    color: var(--text-secondary);
    margin-top: 4px;
}

.api-keys-status {
    margin-top: var(--space-4);
}

.status-badge {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-2) var(--space-3);
    border-radius: var(--radius-md);
    font-size: 0.9rem;
    font-weight: var(--font-weight-medium);
}

.status-badge.success {
    background: rgba(16, 185, 129, 0.2);
    color: var(--success);
    border: 1px solid rgba(16, 185, 129, 0.4);
}

.sample-suggestions {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    flex-wrap: wrap;
    margin-top: var(--space-6);
    padding: var(--space-4);
    background: rgba(255, 255, 255, 0.08);
    border-radius: var(--radius-lg);
    backdrop-filter: blur(10px);
}

.sample-suggestions span {
    color: var(--text-secondary);
    font-size: 0.9rem;
}

.sample-btn {
    background: var(--bg-tertiary);
    border: 1px solid var(--border-light);
    color: var(--text-primary);
    padding: var(--space-2) var(--space-3);
    border-radius: var(--radius-md);
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.3s ease;
    backdrop-filter: blur(5px);
}

.sample-btn:hover {
    background: var(--primary);
    color: white;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
}

.results-area {
    min-height: 200px;
}

.results-placeholder {
    text-align: center;
    padding: var(--space-10);
    color: var(--text-secondary);
}

.placeholder-icon {
    font-size: 3rem;
    margin-bottom: var(--space-4);
    opacity: 0.5;
}

.loading-state {
    text-align: center;
    padding: var(--space-8);
}

.loading-spinner {
    font-size: 2.5rem;
    margin-bottom: var(--space-4);
    color: var(--primary);
    animation: spin 1.5s linear infinite;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.loading-steps {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
    margin: var(--space-6) 0;
    max-width: 400px;
    margin-left: auto;
    margin-right: auto;
}

.loading-step {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-3);
    background: rgba(255, 255, 255, 0.08);
    border-radius: var(--radius-md);
    transition: all 0.3s ease;
    backdrop-filter: blur(5px);
}

.loading-step.active {
    background: rgba(99, 102, 241, 0.15);
    border-left: 3px solid var(--primary);
}

.scan-progress {
    margin-top: var(--space-6);
}

.progress-text {
    margin-bottom: var(--space-2);
    font-size: 0.9rem;
    color: var(--text-secondary);
}

.progress-bar {
    height: 6px;
    background: var(--bg-tertiary);
    border-radius: 3px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--primary), var(--success));
    border-radius: 3px;
    transition: width 0.5s ease;
    width: 0%;
    animation: progressAnimation 2s ease-in-out infinite;
}

@keyframes progressAnimation {
    0% { transform: translateX(-100%); }
    50% { transform: translateX(0%); }
    100% { transform: translateX(100%); }
}

/* Rest of the CSS remains the same as your original but with enhanced glass effects */
.threat-result {
    background: rgba(255, 255, 255, 0.08);
    border-radius: var(--radius-lg);
    border: 1px solid var(--border-light);
    overflow: hidden;
    backdrop-filter: blur(15px);
}

.threat-result.clean {
    border-left: 4px solid var(--success);
}

.threat-result.suspicious {
    border-left: 4px solid var(--warning);
}

.threat-result.malicious {
    border-left: 4px solid var(--error);
}

.threat-header {
    padding: var(--space-6);
    border-bottom: 1px solid var(--border-light);
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--space-4);
}

.threat-title {
    font-size: 1.5rem;
    font-weight: var(--font-weight-bold);
}

.threat-confidence {
    padding: var(--space-2) var(--space-4);
    border-radius: var(--radius-md);
    font-weight: var(--font-weight-bold);
    font-size: 0.9rem;
}

.confidence-high {
    background: rgba(16, 185, 129, 0.2);
    color: var(--success);
    border: 1px solid rgba(16, 185, 129, 0.4);
}

.confidence-medium {
    background: rgba(245, 158, 11, 0.2);
    color: var(--warning);
    border: 1px solid rgba(245, 158, 11, 0.4);
}

.confidence-low {
    background: rgba(239, 68, 68, 0.2);
    color: var(--error);
    border: 1px solid rgba(239, 68, 68, 0.4);
}

.threat-details {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-4);
    padding: var(--space-6);
    border-bottom: 1px solid var(--border-light);
}

.detail-item h4 {
    font-size: 0.9rem;
    color: var(--text-secondary);
    margin-bottom: var(--space-1);
    font-weight: var(--font-weight-medium);
}

.detail-item p {
    font-weight: var(--font-weight-semibold);
}

.scan-results-section {
    padding: var(--space-6);
    border-bottom: 1px solid var(--border-light);
}

.scan-results-section h4 {
    margin-bottom: var(--space-4);
    font-size: 1.1rem;
}

.scan-results-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-4);
}

.scan-result-card {
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-lg);
    padding: var(--space-4);
    text-align: center;
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
}

.scan-result-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    background: rgba(255, 255, 255, 0.12);
}

.scan-result-card.safe {
    border-left: 4px solid var(--success);
}

.scan-result-card.warning {
    border-left: 4px solid var(--warning);
}

.scan-result-card.danger {
    border-left: 4px solid var(--error);
}

.scan-result-card h4 {
    margin-bottom: var(--space-2);
    font-size: 1rem;
}

.scan-status {
    font-weight: var(--font-weight-bold);
    margin: var(--space-2) 0;
    font-size: 0.9rem;
}

.scan-status.clean {
    color: var(--success);
}

.scan-status.suspicious {
    color: var(--warning);
}

.scan-status.malicious {
    color: var(--error);
}

.scan-stats {
    display: flex;
    gap: var(--space-2);
    justify-content: center;
    flex-wrap: wrap;
    margin-top: var(--space-2);
}

.scan-stats small {
    background: rgba(255, 255, 255, 0.15);
    padding: 2px 6px;
    border-radius: var(--radius-sm);
    font-size: 0.7rem;
}

.threat-recommendations {
    padding: var(--space-6);
    border-bottom: 1px solid var(--border-light);
}

.threat-recommendations:last-child {
    border-bottom: none;
}

.threat-recommendations h4 {
    margin-bottom: var(--space-4);
    font-size: 1.1rem;
}

.threat-recommendations ul {
    list-style: none;
}

.threat-recommendations li {
    padding: var(--space-2) 0;
    display: flex;
    align-items: flex-start;
    gap: var(--space-2);
}

.threat-recommendations li:before {
    content: "‚Ä¢";
    color: var(--primary);
    font-weight: bold;
}

.analysis-meta {
    padding: var(--space-4) var(--space-6);
    background: rgba(255, 255, 255, 0.05);
    text-align: center;
    color: var(--text-muted);
    font-size: 0.8rem;
    backdrop-filter: blur(10px);
}

.toxicity-meter {
    margin: var(--space-4) 0;
}

.toxicity-level {
    height: 20px;
    background: linear-gradient(90deg, var(--success), var(--warning), var(--error));
    border-radius: 10px;
    position: relative;
    margin: var(--space-2) 0;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
}

.toxicity-indicator {
    position: absolute;
    top: -5px;
    width: 4px;
    height: 30px;
    background: white;
    border-radius: 2px;
    transform: translateX(-50%);
    box-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
}

.toxicity-labels {
    display: flex;
    justify-content: space-between;
    font-size: 0.8rem;
    color: var(--text-secondary);
}

.notification {
    position: fixed;
    top: 20px;
    right: 20px;
    padding: var(--space-4);
    border-radius: var(--radius-lg);
    color: white;
    z-index: 1000;
    max-width: 400px;
    box-shadow: var(--shadow-lg);
    animation: slideIn 0.3s ease-out;
    backdrop-filter: blur(15px);
}

.notification.success {
    background: rgba(16, 185, 129, 0.9);
}

.notification.error {
    background: rgba(239, 68, 68, 0.9);
}

@keyframes slideIn {
    from { transform: translateX(100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
}

/* Responsive Design */
@media (max-width: 768px) {
    .ai-tools-status {
        flex-direction: column;
        align-items: center;
    }
    
    .threat-header {
        flex-direction: column;
        align-items: flex-start;
    }
    
    .threat-details {
        grid-template-columns: 1fr;
    }
    
    .scan-results-grid {
        grid-template-columns: 1fr;
    }
    
    .input-header h1 {
        font-size: 2rem;
    }
    
    .analyzer-content {
        padding: var(--space-6);
    }
}

@media (max-width: 480px) {
    .container {
        padding: 0 var(--space-4);
    }
    
    .analyzer-content {
        padding: var(--space-4);
    }
    
    .input-header h1 {
        font-size: 1.75rem;
    }
    
    .btn-large {
        padding: var(--space-4) var(--space-6);
        font-size: 1rem;
    }
}
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <a href="main.html" class="logo">
                <div class="logo-icon" aria-hidden="true">
                    <i class="fas fa-brain"></i>
                </div>
                <span>Cortex-Intell</span>
            </a>
            <div class="nav-actions">
                <button class="theme-toggle" id="themeToggle" aria-label="Toggle light/dark mode">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </div>
    </nav>

    <main id="main-content">
        <div class="container">
            <div class="analyzer-container">
                <div class="analyzer-content">
                    <div class="input-group">
                        <div class="input-header">
                            <h1>ü§ñ AI Content Safety Analysis</h1>
                            <p>Advanced AI-powered text analysis for harmful content, hate speech, and inappropriate material</p>
                        </div>
                        
                        <!-- AI Tools Status -->
                        <div class="ai-tools-status">
                            <div class="tool-status active">
                                <i class="fas fa-check-circle"></i>
                                <span>Google Vertex AI (Ready)</span>
                            </div>
                            <div class="tool-status active">
                                <i class="fas fa-check-circle"></i>
                                <span>Perspective API (Ready)</span>
                            </div>
                            <div class="tool-status active">
                                <i class="fas fa-check-circle"></i>
                                <span>Hugging Face (Ready)</span>
                            </div>
                        </div>

                        <div class="input-container">
                            <textarea id="contentInput" placeholder="Paste text content here for AI-powered safety analysis..." aria-label="Text content to analyze"></textarea>
                            <button class="btn btn-primary btn-large" id="analyzeContentBtn" aria-label="Analyze content for safety">
                                <i class="fas fa-robot" aria-hidden="true"></i>
                                AI Analyze Content
                            </button>
                        </div>

                        <!-- API Keys Section -->
                        <div class="api-keys-section">
                            <details open>
                                <summary>üîë AI API Keys Configuration (All APIs Ready!)</summary>
                                <div class="api-keys-grid">
                                    <div class="api-key-input">
                                        <label>Google Vertex AI Key:</label>
                                        <input type="password" id="vertexApiKey" 
                                               value="AIzaSyChwvpkmX1KTzJIkq4eMhrqExCesDV2rDI"
                                               placeholder="Vertex AI API Key">
                                        <small class="api-key-status">‚úÖ Active ‚Ä¢ Google Cloud</small>
                                    </div>
                                    <div class="api-key-input">
                                        <label>Google Perspective API Key:</label>
                                        <input type="password" id="perspectiveApiKey" 
                                               value="KCwrYoPZjrHq0sF5mulEnNc0OiuUI51yxC5GdoUc4dQoZSnH1K0JNN0RdojPhDxB_HhX1nNNEPT3BlbkFJ-7hC5tkyRjI9u5FFVYU0ZpH-izO85_1M3dOVo_WURc-HlLNAcAZid1sVYyf113-nbdLyY9g88A"
                                               placeholder="Perspective API Key">
                                        <small class="api-key-status">‚úÖ Active ‚Ä¢ 1,000 requests/month</small>
                                    </div>
                                    <div class="api-key-input">
                                        <label>Hugging Face Token:</label>
                                        <input type="password" id="huggingfaceToken" 
                                               value="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"
                                               placeholder="Hugging Face Token">
                                        <small class="api-key-status">‚úÖ Active ‚Ä¢ Free with rate limits</small>
                                    </div>
                                </div>
                                <div class="api-keys-status">
                                    <div class="status-badge success">
                                        <i class="fas fa-check-circle"></i>
                                        <span>All AI APIs Configured & Ready</span>
                                    </div>
                                </div>
                            </details>
                        </div>

                        <div class="sample-suggestions">
                            <span>Test AI Analyzer:</span>
                            <button class="sample-btn" data-type="safe">Safe Content</button>
                            <button class="sample-btn" data-type="harmful">Harmful Content</button>
                            <button class="sample-btn" data-type="hate">Hate Speech</button>
                            <button class="sample-btn" data-type="spam">Spam Content</button>
                        </div>
                    </div>

                    <div class="results-area" id="resultsArea">
                        <div class="results-placeholder">
                            <div class="placeholder-icon">
                                <i class="fas fa-shield-alt" aria-hidden="true"></i>
                            </div>
                            <h3>Ready for AI Analysis</h3>
                            <p>Enter text content to see real AI-powered security results</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        class AIContentAnalyzer {
            constructor() {
                this.apis = {
                    vertex: {
                        key: 'AIzaSyChwvpkmX1KTzJIkq4eMhrqExCesDV2rDI',
                        baseURL: 'https://us-central1-aiplatform.googleapis.com'
                    },
                    perspective: {
                        key: 'KCwrYoPZjrHq0sF5mulEnNc0OiuUI51yxC5GdoUc4dQoZSnH1K0JNN0RdojPhDxB_HhX1nNNEPT3BlbkFJ-7hC5tkyRjI9u5FFVYU0ZpH-izO85_1M3dOVo_WURc-HlLNAcAZid1sVYyf113-nbdLyY9g88A',
                        baseURL: 'https://commentanalyzer.googleapis.com/v1alpha1'
                    },
                    huggingface: {
                        token: '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',
                        baseURL: 'https://api-inference.huggingface.co/models'
                    }
                };
            }

            async analyzeContent(text) {
                try {
                    this.updateAPIKeys();
                    
                    const results = {
                        text: text,
                        timestamp: new Date().toISOString(),
                        analyses: {},
                        overallScore: 100,
                        status: 'clean',
                        threats: [],
                        categories: {},
                        toxicityScore: 0
                    };

                    // Run multiple AI analyses in parallel
                    const analysisPromises = [];

                    // Google Perspective API
                    if (this.apis.perspective.key) {
                        analysisPromises.push(this.analyzeWithPerspective(text).then(result => {
                            results.analyses.perspective = result;
                            this.updateOverallScore(results, result);
                        }));
                    }

                    // Hugging Face Toxicity
                    analysisPromises.push(this.analyzeWithHuggingFace(text).then(result => {
                        results.analyses.huggingface = result;
                        this.updateOverallScore(results, result);
                    }));

                    // Basic NLP Analysis (fallback)
                    analysisPromises.push(this.basicTextAnalysis(text).then(result => {
                        results.analyses.basic = result;
                        this.updateOverallScore(results, result);
                    }));

                    await Promise.allSettled(analysisPromises);

                    // Calculate overall toxicity score
                    results.toxicityScore = this.calculateOverallToxicity(results);
                    
                    // Determine final status
                    results.status = this.determineFinalStatus(results);
                    
                    return results;

                } catch (error) {
                    throw new Error(`AI Content Analysis failed: ${error.message}`);
                }
            }

            async analyzeWithPerspective(text) {
                const apiKey = this.apis.perspective.key;
                
                try {
                    const response = await fetch(`${this.apis.perspective.baseURL}/comments:analyze?key=${apiKey}`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            comment: { text: text },
                            languages: ['en'],
                            requestedAttributes: {
                                TOXICITY: {},
                                SEVERE_TOXICITY: {},
                                IDENTITY_ATTACK: {},
                                INSULT: {},
                                PROFANITY: {},
                                THREAT: {},
                                SEXUALLY_EXPLICIT: {}
                            }
                        })
                    });

                    if (!response.ok) {
                        const errorData = await response.json();
                        throw new Error(errorData.error?.message || 'Perspective API error');
                    }

                    const data = await response.json();
                    const attributes = data.attributeScores;

                    // Calculate overall toxicity score
                    const scores = Object.values(attributes).map(attr => attr.summaryScore.value);
                    const maxScore = Math.max(...scores);

                    return {
                        engine: 'Google Perspective',
                        scores: {
                            toxicity: attributes.TOXICITY?.summaryScore?.value || 0,
                            severeToxicity: attributes.SEVERE_TOXICITY?.summaryScore?.value || 0,
                            identityAttack: attributes.IDENTITY_ATTACK?.summaryScore?.value || 0,
                            insult: attributes.INSULT?.summaryScore?.value || 0,
                            profanity: attributes.PROFANITY?.summaryScore?.value || 0,
                            threat: attributes.THREAT?.summaryScore?.value || 0,
                            sexuallyExplicit: attributes.SEXUALLY_EXPLICIT?.summaryScore?.value || 0
                        },
                        maxScore: maxScore,
                        status: maxScore > 0.7 ? 'harmful' : maxScore > 0.3 ? 'suspicious' : 'clean',
                        confidence: 'high'
                    };

                } catch (error) {
                    console.error('Perspective API error:', error);
                    return { 
                        engine: 'Google Perspective', 
                        error: error.message, 
                        status: 'error',
                        help: 'Check API key and billing status'
                    };
                }
            }

            async analyzeWithHuggingFace(text) {
                try {
                    const response = await fetch('https://api-inference.huggingface.co/models/unitary/multilingual-toxic-xlm-roberta', {
                        method: 'POST',
                        headers: {
                            'Authorization': `Bearer ${this.apis.huggingface.token}`,
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            inputs: text
                        })
                    });

                    if (!response.ok) {
                        if (response.status === 503) {
                            // Model is loading, wait and retry
                            await new Promise(resolve => setTimeout(resolve, 5000));
                            return this.analyzeWithHuggingFace(text);
                        }
                        throw new Error(`Hugging Face API error: ${response.status}`);
                    }

                    const data = await response.json();
                    const toxicityResult = data[0]?.find(item => item.label === 'toxic');
                    const toxicityScore = toxicityResult?.score || 0;

                    return {
                        engine: 'Hugging Face',
                        toxicityScore: toxicityScore,
                        allScores: data[0] || [],
                        status: toxicityScore > 0.7 ? 'harmful' : toxicityScore > 0.3 ? 'suspicious' : 'clean',
                        confidence: 'medium'
                    };

                } catch (error) {
                    console.error('Hugging Face error:', error);
                    return { 
                        engine: 'Hugging Face', 
                        error: error.message, 
                        status: 'error',
                        help: 'Model might be loading, try again in a moment'
                    };
                }
            }

            async basicTextAnalysis(text) {
                // Enhanced basic analysis as fallback
                const harmfulPatterns = [
                    { pattern: /\b(kill|murder|attack|violence|harm)\b/gi, weight: 0.8 },
                    { pattern: /\b(hate|despise|loathe)\b/gi, weight: 0.6 },
                    { pattern: /\b(fuck|shit|asshole|bastard)\b/gi, weight: 0.5 },
                    { pattern: /\b(spam|buy now|limited time|click here)\b/gi, weight: 0.4 },
                    { pattern: /\b(racist|sexist|homophobic)\b/gi, weight: 0.9 }
                ];

                let score = 0;
                const detectedPatterns = [];

                harmfulPatterns.forEach(({ pattern, weight }) => {
                    const matches = text.match(pattern);
                    if (matches) {
                        score += matches.length * weight;
                        detectedPatterns.push({
                            pattern: pattern.toString(),
                            matches: matches.length,
                            weight: weight
                        });
                    }
                });

                // Normalize score to 0-1
                const normalizedScore = Math.min(1, score / 10);

                return {
                    engine: 'Basic NLP Analysis',
                    score: normalizedScore,
                    detectedPatterns: detectedPatterns,
                    status: normalizedScore > 0.7 ? 'harmful' : normalizedScore > 0.3 ? 'suspicious' : 'clean',
                    confidence: 'low'
                };
            }

            calculateOverallToxicity(results) {
                let totalScore = 0;
                let count = 0;

                Object.values(results.analyses).forEach(analysis => {
                    if (analysis.scores) {
                        // Use max score from Perspective API
                        totalScore += analysis.maxScore || 0;
                        count++;
                    } else if (analysis.toxicityScore !== undefined) {
                        totalScore += analysis.toxicityScore;
                        count++;
                    } else if (analysis.score !== undefined) {
                        totalScore += analysis.score;
                        count++;
                    }
                });

                return count > 0 ? totalScore / count : 0;
            }

            updateAPIKeys() {
                const vertexKey = document.getElementById('vertexApiKey')?.value;
                const perspectiveKey = document.getElementById('perspectiveApiKey')?.value;
                const huggingfaceToken = document.getElementById('huggingfaceToken')?.value;

                if (vertexKey) this.apis.vertex.key = vertexKey;
                if (perspectiveKey) this.apis.perspective.key = perspectiveKey;
                if (huggingfaceToken) this.apis.huggingface.token = huggingfaceToken;
            }

            updateOverallScore(results, analysisResult) {
                if (analysisResult.status === 'harmful') {
                    results.overallScore -= 30;
                    results.threats.push(`${analysisResult.engine}: Harmful content detected`);
                } else if (analysisResult.status === 'suspicious') {
                    results.overallScore -= 15;
                    results.threats.push(`${analysisResult.engine}: Suspicious content detected`);
                } else if (analysisResult.status === 'error') {
                    results.overallScore -= 5;
                }

                results.overallScore = Math.max(0, Math.min(100, results.overallScore));
            }

            determineFinalStatus(results) {
                if (results.toxicityScore > 0.7) return 'harmful';
                if (results.toxicityScore > 0.3) return 'suspicious';
                if (results.overallScore >= 80) return 'clean';
                if (results.overallScore >= 60) return 'suspicious';
                return 'harmful';
            }
        }

        // Enhanced sample content
        const samples = {
            safe: "This is a sample of safe educational content about cybersecurity and online safety practices. Learning about security helps protect everyone in the digital world. We should always promote positive and constructive discussions about technology and its impact on society.",
            
            harmful: "This is a test of harmful content detection with inappropriate language and offensive terms that should be flagged by the system. This includes violent threats and hateful speech targeting specific groups. I'm going to use some strong language here: this is fucking terrible and I hate everyone involved.",
            
            hate: "I absolutely despise those people and think they should all be removed from our society. They don't deserve any rights or respect because of who they are. We need to take violent action against them immediately. This is racist and discriminatory content that should be detected.",
            
            spam: "BUY NOW!!! Limited time offer!!! Get rich quick with this amazing opportunity!!! Click here for FREE money!!! Don't miss out on this exclusive deal!!! Act fast before it's gone!!! Special promotion just for you!!! Incredible results guaranteed!!!"
        };

        // Main analysis functionality
        document.getElementById('analyzeContentBtn').addEventListener('click', async function() {
            const content = document.getElementById('contentInput').value;
            const resultsArea = document.getElementById('resultsArea');
            const btn = this;
            
            if (!content) {
                showError('Please enter some text to analyze.');
                return;
            }

            if (content.length < 10) {
                showError('Please enter at least 10 characters for meaningful analysis.');
                return;
            }

            // Show loading
            btn.disabled = true;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> AI Analyzing...';
            
            resultsArea.innerHTML = `
                <div class="loading-state">
                    <div class="loading-spinner">
                        <i class="fas fa-robot fa-spin"></i>
                    </div>
                    <h3>ü§ñ AI Content Analysis in Progress</h3>
                    <p>Analyzing with multiple AI safety engines...</p>
                    <div class="loading-steps">
                        <div class="loading-step active">
                            <i class="fab fa-google"></i>
                            <span>Google Perspective API - Toxicity Analysis</span>
                        </div>
                        <div class="loading-step active">
                            <i class="fas fa-brain"></i>
                            <span>Hugging Face - Deep Learning Model</span>
                        </div>
                        <div class="loading-step active">
                            <i class="fas fa-shield-alt"></i>
                            <span>Basic NLP Pattern Detection</span>
                        </div>
                    </div>
                    <div class="scan-progress">
                        <div class="progress-text">Processing text with AI models...</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 33%"></div>
                        </div>
                    </div>
                </div>
            `;

            try {
                const analyzer = new AIContentAnalyzer();
                const results = await analyzer.analyzeContent(content);
                
                btn.disabled = false;
                btn.innerHTML = '<i class="fas fa-robot"></i> AI Analyze Content';
                
                displayContentAnalysisResults(results);
                
            } catch (error) {
                btn.disabled = false;
                btn.innerHTML = '<i class="fas fa-robot"></i> AI Analyze Content';
                
                showError(`AI Analysis Failed: ${error.message}`);
            }
        });

        function displayContentAnalysisResults(results) {
            const resultsArea = document.getElementById('resultsArea');
            const statusClass = results.status === 'clean' ? 'clean' : 
                              results.status === 'suspicious' ? 'suspicious' : 'malicious';
            
            const statusIcon = results.status === 'clean' ? '‚úÖ' :
                             results.status === 'suspicious' ? '‚ö†Ô∏è' : 'üö´';

            const statusText = results.status === 'clean' ? 'SAFE CONTENT' :
                              results.status === 'suspicious' ? 'SUSPICIOUS CONTENT' : 'HARMFUL CONTENT';

            // Count active analyses
            const activeAnalyses = Object.values(results.analyses).filter(analysis => !analysis.error).length;
            
            let analysisResultsHTML = '';

            // Display results from each AI engine
            Object.values(results.analyses).forEach(analysis => {
                if (analysis.error) return;

                const cardClass = analysis.status === 'clean' ? 'safe' : 
                                 analysis.status === 'suspicious' ? 'warning' : 'danger';

                let analysisDetails = '';
                
                if (analysis.engine === 'Google Perspective') {
                    analysisDetails = `
                        <div class="scan-stats">
                            <small>üìä Toxicity: ${(analysis.scores.toxicity * 100).toFixed(1)}%</small>
                            <small>‚ö†Ô∏è Threat: ${(analysis.scores.threat * 100).toFixed(1)}%</small>
                            <small>üö´ Insult: ${(analysis.scores.insult * 100).toFixed(1)}%</small>
                        </div>
                    `;
                } else if (analysis.engine === 'Hugging Face') {
                    analysisDetails = `
                        <div class="scan-stats">
                            <small>üß† AI Model: Multilingual</small>
                            <small>üìà Toxicity: ${(analysis.toxicityScore * 100).toFixed(1)}%</small>
                            <small>üõ°Ô∏è Confidence: ${analysis.confidence}</small>
                        </div>
                    `;
                } else if (analysis.engine === 'Basic NLP Analysis') {
                    analysisDetails = `
                        <div class="scan-stats">
                            <small>üîç Patterns: ${analysis.detectedPatterns.length}</small>
                            <small>üìä Score: ${(analysis.score * 100).toFixed(1)}%</small>
                            <small>üõ°Ô∏è Confidence: ${analysis.confidence}</small>
                        </div>
                    `;
                }

                analysisResultsHTML += `
                    <div class="scan-result-card ${cardClass}">
                        <h4>${analysis.engine}</h4>
                        <div class="scan-status ${analysis.status}">${analysis.status.toUpperCase()}</div>
                        ${analysisDetails}
                    </div>
                `;
            });

            // Toxicity meter
            const toxicityPercentage = (results.toxicityScore * 100).toFixed(1);
            const toxicityPosition = Math.min(100, Math.max(0, results.toxicityScore * 100));

            resultsArea.innerHTML = `
                <div class="threat-result ${statusClass}">
                    <div class="threat-header">
                        <h3 class="threat-title">ü§ñ AI Content Safety Report</h3>
                        <div class="threat-confidence confidence-${results.status === 'clean' ? 'high' : results.status === 'suspicious' ? 'medium' : 'low'}">
                            ${statusIcon} ${statusText}
                        </div>
                    </div>
                    
                    <div class="threat-details">
                        <div class="detail-item">
                            <h4>AI Safety Score</h4>
                            <p>${results.overallScore}/100</p>
                        </div>
                        <div class="detail-item">
                            <h4>Toxicity Level</h4>
                            <p>${toxicityPercentage}%</p>
                        </div>
                        <div class="detail-item">
                            <h4>Analysis Engines</h4>
                            <p>${activeAnalyses}/3 AI engines</p>
                        </div>
                        <div class="detail-item">
                            <h4>Analysis Time</h4>
                            <p>${new Date(results.timestamp).toLocaleTimeString()}</p>
                        </div>
                    </div>

                    <div class="toxicity-meter">
                        <h4>Overall Toxicity Meter</h4>
                        <div class="toxicity-level">
                            <div class="toxicity-indicator" style="left: ${toxicityPosition}%"></div>
                        </div>
                        <div class="toxicity-labels">
                            <span>Clean</span>
                            <span>Suspicious</span>
                            <span>Harmful</span>
                        </div>
                    </div>

                    <div class="scan-results-section">
                        <h4>üîç AI Engine Results</h4>
                        <div class="scan-results-grid">
                            ${analysisResultsHTML || '<p>No analysis results available</p>'}
                        </div>
                    </div>

                    ${results.threats.length > 0 ? `
                        <div class="threat-recommendations">
                            <h4>üö® Detected Issues</h4>
                            <ul>
                                ${results.threats.map(threat => `<li>${threat}</li>`).join('')}
                            </ul>
                        </div>
                    ` : ''}

                    <div class="threat-recommendations">
                        <h4>AI Safety Recommendations</h4>
                        <ul>
                            ${results.status === 'clean' ? `
                                <li>‚úÖ Content appears safe across all AI analysis engines</li>
                                <li>‚úÖ No harmful or toxic language detected</li>
                                <li>‚úÖ Multiple AI models confirm content safety</li>
                                <li>üîí Continue practicing safe content creation</li>
                            ` : results.status === 'suspicious' ? `
                                <li>‚ö†Ô∏è Exercise caution with this content</li>
                                <li>üîç Some concerning patterns detected by AI engines</li>
                                <li>üõ°Ô∏è Review content before sharing publicly</li>
                                <li>üìä Consider rewriting ambiguous sections</li>
                            ` : `
                                <li>üö´ HARMFUL CONTENT DETECTED</li>
                                <li>üõë DO NOT SHARE THIS CONTENT</li>
                                <li>üîí Multiple AI engines confirm safety concerns</li>
                                <li>üìû Consider professional content review</li>
                            `}
                        </ul>
                    </div>

                    <div class="analysis-meta">
                        <small>AI Analysis powered by Google Perspective API, Hugging Face, Basic NLP ‚Ä¢ ${new Date(results.timestamp).toLocaleString()}</small>
                    </div>
                </div>
            `;
        }

        function showError(message) {
            const resultsArea = document.getElementById('resultsArea');
            resultsArea.innerHTML = `
                <div class="threat-result malicious">
                    <div class="threat-header">
                        <h3 class="threat-title">AI Analysis Error</h3>
                        <div class="threat-confidence confidence-low">‚ùå ERROR</div>
                    </div>
                    <p>${message}</p>
                </div>
            `;
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <div style="display: flex; align-items: center; gap: 8px;">
                    <i class="fas fa-${type === 'success' ? 'check' : 'exclamation'}-circle"></i>
                    <span>${message}</span>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 5000);
        }

        // Sample buttons
        document.querySelectorAll('.sample-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const type = this.dataset.type;
                document.getElementById('contentInput').value = samples[type] || '';
            });
        });

        // Theme toggle
        document.getElementById('themeToggle').addEventListener('click', function() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            
            const icon = document.querySelector('.theme-toggle i');
            if (icon) {
                icon.className = newTheme === 'light' ? 'fas fa-sun' : 'fas fa-moon';
            }
        });

        // Test all AI engines on load
        async function testAllAIEngines() {
            console.log('üß™ Testing All AI Content Analysis Engines...');
            
            const testText = samples.safe;
            const analyzer = new AIContentAnalyzer();
            
            try {
                console.log('1. Testing Google Perspective API...');
                const perspectiveResult = await analyzer.analyzeWithPerspective(testText);
                console.log('Perspective Result:', perspectiveResult);
                
                console.log('2. Testing Hugging Face...');
                const hfResult = await analyzer.analyzeWithHuggingFace(testText);
                console.log('Hugging Face Result:', hfResult);
                
                showNotification('üéâ All AI Content Analysis Engines Working!', 'success');
                
            } catch (error) {
                console.error('AI Engine Test Failed:', error);
                showNotification('‚ö†Ô∏è Some AI engines failed: ' + error.message, 'error');
            }
        }

        // Load saved theme and test engines
        document.addEventListener('DOMContentLoaded', function() {
            const savedTheme = localStorage.getItem('theme') || 'dark';
            document.documentElement.setAttribute('data-theme', savedTheme);
            const themeIcon = document.querySelector('.theme-toggle i');
            if (themeIcon) {
                themeIcon.className = savedTheme === 'light' ? 'fas fa-sun' : 'fas fa-moon';
            }
            
            // Test engines after a short delay
            setTimeout(testAllAIEngines, 1000);
        });
    </script>
</body>
</html>